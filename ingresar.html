<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Form De Ingreso</title>
    <link rel="stylesheet" href="css/ingresar.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

    <div class="login-container">
        <h2>Ingresar</h2>
        <form id="loginForm">
            <div class="form-group">
                <label for="username">Usuario</label>
                <input type="text" id="username" name="username" required>
                <span id="usernameError" class="error-message" style="display: none;">Nombre de usuario o código incorrecto</span>
            </div>
            <div class="form-group">
                <label for="code">Código (5 dígitos)</label>
                <input type="password" id="code" name="code" minlength="5" maxlength="5" required>
                <span id="codeError" class="error-message" style="display: none;">Nombre de usuario o código incorrecto</span>
            </div>
            <div class="form-group">
                <input type="submit" value="Ingresar">
            </div>
            <div class="btn">
                <a class="btn" href="index.html" id="returnButton">Volver a la página de inicio</a>
            </div>
        </form>
    </div>

    <script>
        document.getElementById('loginForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Evitar el envío del formulario

            var username = document.getElementById('username').value.trim();
            var code = document.getElementById('code').value.trim();

            if (!username || !code) {
                alert('Por favor, complete todos los campos.'); // Mensaje de error para campos vacíos
                return;
            }

            var user = findUser(username, code); // Buscar al usuario

            if (user) {
                sessionStorage.setItem('autenticado', 'true'); // Marcar como autenticado
                sessionStorage.setItem('ingresadoDesdeIngresar', 'true'); // Marcar como ingresado desde ingresar.html
                window.location.href = 'Registro.html'; // Redirige a Registro.html si la autenticación es exitosa
            } else {
                document.getElementById('usernameError').style.display = 'block'; // Mostrar mensaje de usuario o código incorrecto
                document.getElementById('codeError').style.display = 'block'; // Mostrar mensaje de usuario o código incorrecto
            }
        });

        function findUser(username, code) {
            var users = [
                { username: "Dangelo", code: "12345" },
                { username: "Steven", code: "67890" },
                { username: "Jesus", code: "54321" },
                { username: "Paula", code: "98765" },
                { username: "Carlos", code: "13579" },
                { username: "Kevin", code: "13570" },
                { username: "Cristian", code: "97531" },
                { username: "JM", code: "24681" },
                { username: "JP", code: "24680" },
                { username: "Lian", code: "46802" },
                { username: "Fiorela", code: "86420" },
                { username: "Greyson", code: "97531" },
                { username: "Ethan", code: "24681" },
                { username: "Samantha", code: "46802" },
                { username: "David", code: "13570" },
                { username: "Daniel", code: "80246" },
                { username: "Estefany", code: "80246" },
                { username: "Quiros", code: "97531" }
            ];

            return users.find(function (user) {
                return user.username === username && user.code === code;
            });
        }
    </script>

</body>
</html>

